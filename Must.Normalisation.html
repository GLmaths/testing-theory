<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/GLmaths/testing-theory">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Library Must.Normalisation</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Coq.Program.Equality</span></a>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">base</span> <span class="id" title="library">countable</span> <span class="id" title="library">finite</span> <span class="id" title="library">gmap</span> <span class="id" title="library">list</span> <span class="id" title="library">decidable</span> <span class="id" title="library">gmultiset</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Must</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Must.TransitionSystems.html#"><span class="id" title="library">TransitionSystems</span></a> <a class="idref" href="Must.Must.html#"><span class="id" title="library">Must</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ntrace" class="idref" href="#ntrace"><span class="id" title="definition">ntrace</span></a> <a id="L:1" class="idref" href="#L:1"><span class="id" title="binder">L</span></a> `{<a id="H:2" class="idref" href="#H:2"><span class="id" title="binder">Label</span></a> <a id="H:2" class="idref" href="#H:2"><span class="id" title="binder">L</span></a>} : <span class="id" title="keyword">Type</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="record">gmultiset</span> <a class="idref" href="Must.Normalisation.html#L:1"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="record">gmultiset</span> <a class="idref" href="Must.Normalisation.html#L:1"><span class="id" title="variable">L</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="normalize_loop" class="idref" href="#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> `{<a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">Label</span></a> <a id="L:3" class="idref" href="#L:3"><span class="id" title="binder"><span id="H:4" class="id">L</span></span></a>} (<a id="s:5" class="idref" href="#s:5"><span class="id" title="binder">s</span></a> : <a class="idref" href="Must.TransitionSystems.html#trace"><span class="id" title="definition">trace</span></a> <a class="idref" href="Must.Normalisation.html#L:3"><span class="id" title="variable">L</span></a>) (<a id="mi:6" class="idref" href="#mi:6"><span class="id" title="binder">mi</span></a> : <span class="id" title="record">gmultiset</span> <a class="idref" href="Must.Normalisation.html#L:3"><span class="id" title="variable">L</span></a>) (<a id="mo:7" class="idref" href="#mo:7"><span class="id" title="binder">mo</span></a> : <span class="id" title="record">gmultiset</span> <a class="idref" href="Must.Normalisation.html#L:3"><span class="id" title="variable">L</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Must.Normalisation.html#ntrace"><span class="id" title="definition">ntrace</span></a> <a class="idref" href="Must.Normalisation.html#L:3"><span class="id" title="variable">L</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Must.Normalisation.html#s:5"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#mi:6"><span class="id" title="variable">mi</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#mo:7"><span class="id" title="variable">mo</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop:8"><span class="id" title="definition">normalize_loop</span></a> <span class="id" title="var">s'</span> (<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#mi:6"><span class="id" title="variable">mi</span></a>) <a class="idref" href="Must.Normalisation.html#mo:7"><span class="id" title="variable">mo</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#mi:6"><span class="id" title="variable">mi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#mo:7"><span class="id" title="variable">mo</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#normalize_loop:8"><span class="id" title="definition">normalize_loop</span></a> <span class="id" title="var">s'</span> <span class="id" title="notation">{[+</span> <span class="id" title="var">b</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">∅</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop:8"><span class="id" title="definition">normalize_loop</span></a> <span class="id" title="var">s'</span> <a class="idref" href="Must.Normalisation.html#mi:6"><span class="id" title="variable">mi</span></a> (<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#mo:7"><span class="id" title="variable">mo</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="normalize" class="idref" href="#normalize"><span class="id" title="definition">normalize</span></a> `{<a id="H:11" class="idref" href="#H:11"><span class="id" title="binder">Label</span></a> <a id="L:10" class="idref" href="#L:10"><span class="id" title="binder"><span id="H:11" class="id">L</span></span></a>} (<a id="s:12" class="idref" href="#s:12"><span class="id" title="binder">s</span></a> : <a class="idref" href="Must.TransitionSystems.html#trace"><span class="id" title="definition">trace</span></a> <a class="idref" href="Must.Normalisation.html#L:10"><span class="id" title="variable">L</span></a>) : <a class="idref" href="Must.Normalisation.html#ntrace"><span class="id" title="definition">ntrace</span></a> <a class="idref" href="Must.Normalisation.html#L:10"><span class="id" title="variable">L</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Must.Normalisation.html#s:12"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> <a class="idref" href="Must.Normalisation.html#s:12"><span class="id" title="variable">s</span></a> <span class="id" title="notation">∅</span> <span class="id" title="notation">∅</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="linearize" class="idref" href="#linearize"><span class="id" title="definition">linearize</span></a> `{<a id="H:15" class="idref" href="#H:15"><span class="id" title="binder">Label</span></a> <a id="L:14" class="idref" href="#L:14"><span class="id" title="binder"><span id="H:15" class="id">L</span></span></a>} (<a id="nt:16" class="idref" href="#nt:16"><span class="id" title="binder">nt</span></a> : <a class="idref" href="Must.Normalisation.html#ntrace"><span class="id" title="definition">ntrace</span></a> <a class="idref" href="Must.Normalisation.html#L:14"><span class="id" title="variable">L</span></a>) : <a class="idref" href="Must.TransitionSystems.html#trace"><span class="id" title="definition">trace</span></a> <a class="idref" href="Must.Normalisation.html#L:14"><span class="id" title="variable">L</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Must.Normalisation.html#nt:16"><span class="id" title="variable">nt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">mi</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">mo</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">nt'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="inputs:19" class="idref" href="#inputs:19"><span class="id" title="binder">inputs</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mi</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="outputs:20" class="idref" href="#outputs:20"><span class="id" title="binder">outputs</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mo</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#inputs:19"><span class="id" title="variable">inputs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Must.Normalisation.html#outputs:20"><span class="id" title="variable">outputs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Must.Normalisation.html#linearize:17"><span class="id" title="definition">linearize</span></a> <span class="id" title="var">nt'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="linorm" class="idref" href="#linorm"><span class="id" title="definition">linorm</span></a> `{<a id="H:22" class="idref" href="#H:22"><span class="id" title="binder">Label</span></a> <a id="L:21" class="idref" href="#L:21"><span class="id" title="binder"><span id="H:22" class="id">L</span></span></a>}  <a id="s:23" class="idref" href="#s:23"><span class="id" title="binder">s</span></a> := <a class="idref" href="Must.Normalisation.html#linearize"><span class="id" title="definition">linearize</span></a> (<a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s:23"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="ed936ae6e031447307cd275976d0e12a" class="idref" href="#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">&quot;</span></a>⟪ s ⟫" := (<a class="idref" href="Must.Normalisation.html#linearize"><span class="id" title="definition">linearize</span></a> (<a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <span class="id" title="var">s</span>)).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="a137b2bd170f019c8e3f34af1008e5e8" class="idref" href="#a137b2bd170f019c8e3f34af1008e5e8"><span class="id" title="notation">&quot;</span></a>⌈ mi , mo ⌉₁" := (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mi</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mo</span>)).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="1ded772c2202dcfd3553f7a82f181398" class="idref" href="#1ded772c2202dcfd3553f7a82f181398"><span class="id" title="notation">&quot;</span></a>⌈ nt ⌉" := (<a class="idref" href="Must.Normalisation.html#linearize"><span class="id" title="definition">linearize</span></a> <span class="id" title="var">nt</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_loop_nil" class="idref" href="#norm_loop_nil"><span class="id" title="lemma">norm_loop_nil</span></a> `{<a id="H:25" class="idref" href="#H:25"><span class="id" title="binder">Label</span></a> <a id="L:24" class="idref" href="#L:24"><span class="id" title="binder"><span id="H:25" class="id">L</span></span></a>} <a id="s:26" class="idref" href="#s:26"><span class="id" title="binder">s</span></a> <a id="mi:27" class="idref" href="#mi:27"><span class="id" title="binder">mi</span></a> <a id="mo:28" class="idref" href="#mo:28"><span class="id" title="binder">mo</span></a> : <a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> <a class="idref" href="Must.Normalisation.html#s:26"><span class="id" title="variable">s</span></a> <a class="idref" href="Must.Normalisation.html#mi:27"><span class="id" title="variable">mi</span></a> <a class="idref" href="Must.Normalisation.html#mo:28"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">mi</span> <span class="id" title="var">mo</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_nil" class="idref" href="#norm_nil"><span class="id" title="lemma">norm_nil</span></a> `{<a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">Label</span></a> <a id="L:29" class="idref" href="#L:29"><span class="id" title="binder"><span id="H:30" class="id">L</span></span></a>} <a id="s:31" class="idref" href="#s:31"><span class="id" title="binder">s</span></a> : <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#s:31"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">eq</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_loop_nil"><span class="id" title="lemma">norm_loop_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_loop_output_output_step" class="idref" href="#norm_loop_output_output_step"><span class="id" title="lemma">norm_loop_output_output_step</span></a> `{<a id="H:33" class="idref" href="#H:33"><span class="id" title="binder">Label</span></a> <a id="L:32" class="idref" href="#L:32"><span class="id" title="binder"><span id="H:33" class="id">L</span></span></a>} <a id="a:34" class="idref" href="#a:34"><span class="id" title="binder">a</span></a> <a id="b:35" class="idref" href="#b:35"><span class="id" title="binder">b</span></a> <a id="s:36" class="idref" href="#s:36"><span class="id" title="binder">s</span></a> <a id="mi:37" class="idref" href="#mi:37"><span class="id" title="binder">mi</span></a> <a id="mo:38" class="idref" href="#mo:38"><span class="id" title="binder">mo</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> (<a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <a class="idref" href="Must.Normalisation.html#a:34"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <a class="idref" href="Must.Normalisation.html#b:35"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#s:36"><span class="id" title="variable">s</span></a>) <a class="idref" href="Must.Normalisation.html#mi:37"><span class="id" title="variable">mi</span></a> <a class="idref" href="Must.Normalisation.html#mo:38"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> (<a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <a class="idref" href="Must.Normalisation.html#b:35"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#s:36"><span class="id" title="variable">s</span></a>) <a class="idref" href="Must.Normalisation.html#mi:37"><span class="id" title="variable">mi</span></a> (<span class="id" title="notation">{[+</span> <a class="idref" href="Must.Normalisation.html#a:34"><span class="id" title="variable">a</span></a> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#mo:38"><span class="id" title="variable">mo</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_loop_output_input_step" class="idref" href="#norm_loop_output_input_step"><span class="id" title="lemma">norm_loop_output_input_step</span></a> `{<a id="H:40" class="idref" href="#H:40"><span class="id" title="binder">Label</span></a> <a id="L:39" class="idref" href="#L:39"><span class="id" title="binder"><span id="H:40" class="id">L</span></span></a>} <a id="a:41" class="idref" href="#a:41"><span class="id" title="binder">a</span></a> <a id="b:42" class="idref" href="#b:42"><span class="id" title="binder">b</span></a> <a id="s:43" class="idref" href="#s:43"><span class="id" title="binder">s</span></a> <a id="mi:44" class="idref" href="#mi:44"><span class="id" title="binder">mi</span></a> <a id="mo:45" class="idref" href="#mo:45"><span class="id" title="binder">mo</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> (<a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <a class="idref" href="Must.Normalisation.html#a:41"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <a class="idref" href="Must.Normalisation.html#b:42"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#s:43"><span class="id" title="variable">s</span></a>) <a class="idref" href="Must.Normalisation.html#mi:44"><span class="id" title="variable">mi</span></a> <a class="idref" href="Must.Normalisation.html#mo:45"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#mi:44"><span class="id" title="variable">mi</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">{[+</span> <a class="idref" href="Must.Normalisation.html#a:41"><span class="id" title="variable">a</span></a> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#mo:45"><span class="id" title="variable">mo</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> (<a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <a class="idref" href="Must.Normalisation.html#b:42"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#s:43"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="instance">gmultiset_disj_union_right_id</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_loop_input_step" class="idref" href="#norm_loop_input_step"><span class="id" title="lemma">norm_loop_input_step</span></a> `{<a id="H:47" class="idref" href="#H:47"><span class="id" title="binder">Label</span></a> <a id="L:46" class="idref" href="#L:46"><span class="id" title="binder"><span id="H:47" class="id">L</span></span></a>} <a id="s:48" class="idref" href="#s:48"><span class="id" title="binder">s</span></a> <a id="a:49" class="idref" href="#a:49"><span class="id" title="binder">a</span></a> <a id="mi:50" class="idref" href="#mi:50"><span class="id" title="binder">mi</span></a> <a id="mo:51" class="idref" href="#mo:51"><span class="id" title="binder">mo</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> (<a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <a class="idref" href="Must.Normalisation.html#a:49"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#s:48"><span class="id" title="variable">s</span></a>) <a class="idref" href="Must.Normalisation.html#mi:50"><span class="id" title="variable">mi</span></a> <a class="idref" href="Must.Normalisation.html#mo:51"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> <a class="idref" href="Must.Normalisation.html#s:48"><span class="id" title="variable">s</span></a> (<span class="id" title="notation">{[+</span> <a class="idref" href="Must.Normalisation.html#a:49"><span class="id" title="variable">a</span></a> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#mi:50"><span class="id" title="variable">mi</span></a>) <a class="idref" href="Must.Normalisation.html#mo:51"><span class="id" title="variable">mo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_sub" class="idref" href="#norm_sub"><span class="id" title="lemma">norm_sub</span></a> `{<a id="H:53" class="idref" href="#H:53"><span class="id" title="binder">Label</span></a> <a id="L:52" class="idref" href="#L:52"><span class="id" title="binder"><span id="H:53" class="id">L</span></span></a>} <a id="s:54" class="idref" href="#s:54"><span class="id" title="binder">s</span></a> <a id="mi:55" class="idref" href="#mi:55"><span class="id" title="binder">mi</span></a> <a id="mo:56" class="idref" href="#mo:56"><span class="id" title="binder">mo</span></a> <a id="I:57" class="idref" href="#I:57"><span class="id" title="binder">I</span></a> <a id="O:58" class="idref" href="#O:58"><span class="id" title="binder">O</span></a> <a id="nt:59" class="idref" href="#nt:59"><span class="id" title="binder">nt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> <a class="idref" href="Must.Normalisation.html#s:54"><span class="id" title="variable">s</span></a> <a class="idref" href="Must.Normalisation.html#mi:55"><span class="id" title="variable">mi</span></a> <a class="idref" href="Must.Normalisation.html#mo:56"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#I:57"><span class="id" title="variable">I</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#O:58"><span class="id" title="variable">O</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#nt:59"><span class="id" title="variable">nt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#mi:55"><span class="id" title="variable">mi</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="Must.Normalisation.html#I:57"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Must.Normalisation.html#mo:56"><span class="id" title="variable">mo</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="Must.Normalisation.html#O:58"><span class="id" title="variable">O</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">mi</span> <span class="id" title="var">mo</span> <span class="id" title="var">I</span> <span class="id" title="var">O</span> <span class="id" title="var">nt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_input_step"><span class="id" title="lemma">norm_loop_input_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_input_step"><span class="id" title="lemma">norm_loop_output_input_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_output_step"><span class="id" title="lemma">norm_loop_output_output_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">multiset_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_input_mem" class="idref" href="#norm_input_mem"><span class="id" title="lemma">norm_input_mem</span></a> `{<a id="H:61" class="idref" href="#H:61"><span class="id" title="binder">Label</span></a> <a id="L:60" class="idref" href="#L:60"><span class="id" title="binder"><span id="H:61" class="id">L</span></span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:62" class="idref" href="#s:62"><span class="id" title="binder">s</span></a> <a id="a:63" class="idref" href="#a:63"><span class="id" title="binder">a</span></a> <a id="mi:64" class="idref" href="#mi:64"><span class="id" title="binder">mi</span></a> <a id="mo:65" class="idref" href="#mo:65"><span class="id" title="binder">mo</span></a> <a id="I:66" class="idref" href="#I:66"><span class="id" title="binder">I</span></a> <a id="O:67" class="idref" href="#O:67"><span class="id" title="binder">O</span></a> <a id="nt:68" class="idref" href="#nt:68"><span class="id" title="binder">nt</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> (<a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <a class="idref" href="Must.Normalisation.html#a:63"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#s:62"><span class="id" title="variable">s</span></a>) <a class="idref" href="Must.Normalisation.html#mi:64"><span class="id" title="variable">mi</span></a> <a class="idref" href="Must.Normalisation.html#mo:65"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#I:66"><span class="id" title="variable">I</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#O:67"><span class="id" title="variable">O</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#nt:68"><span class="id" title="variable">nt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#a:63"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Must.Normalisation.html#I:66"><span class="id" title="variable">I</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_input_step"><span class="id" title="lemma">norm_loop_input_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_sub"><span class="id" title="lemma">norm_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">multiset_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_output_mem" class="idref" href="#norm_output_mem"><span class="id" title="lemma">norm_output_mem</span></a> `{<a id="HL:70" class="idref" href="#HL:70"><span class="id" title="binder">HL</span></a> : <a class="idref" href="Must.TransitionSystems.html#Label"><span class="id" title="class">Label</span></a> <a id="L:69" class="idref" href="#L:69"><span class="id" title="binder">L</span></a>} <a id="s:71" class="idref" href="#s:71"><span class="id" title="binder">s</span></a> <a id="a:72" class="idref" href="#a:72"><span class="id" title="binder">a</span></a> <a id="mi:73" class="idref" href="#mi:73"><span class="id" title="binder">mi</span></a> <a id="mo:74" class="idref" href="#mo:74"><span class="id" title="binder">mo</span></a> <a id="I:75" class="idref" href="#I:75"><span class="id" title="binder">I</span></a> <a id="O:76" class="idref" href="#O:76"><span class="id" title="binder">O</span></a> <a id="nt:77" class="idref" href="#nt:77"><span class="id" title="binder">nt</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> (<a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <a class="idref" href="Must.Normalisation.html#a:72"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#s:71"><span class="id" title="variable">s</span></a>) <a class="idref" href="Must.Normalisation.html#mi:73"><span class="id" title="variable">mi</span></a> <a class="idref" href="Must.Normalisation.html#mo:74"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#I:75"><span class="id" title="variable">I</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#O:76"><span class="id" title="variable">O</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#nt:77"><span class="id" title="variable">nt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#a:72"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="Must.Normalisation.html#O:76"><span class="id" title="variable">O</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_input_step"><span class="id" title="lemma">norm_loop_output_input_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_output_step"><span class="id" title="lemma">norm_loop_output_output_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_sub"><span class="id" title="lemma">norm_sub</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">multiset_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_extend_mi" class="idref" href="#norm_extend_mi"><span class="id" title="lemma">norm_extend_mi</span></a> `{<a id="HL:79" class="idref" href="#HL:79"><span class="id" title="binder">HL</span></a> : <a class="idref" href="Must.TransitionSystems.html#Label"><span class="id" title="class">Label</span></a> <a id="L:78" class="idref" href="#L:78"><span class="id" title="binder">L</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:80" class="idref" href="#s:80"><span class="id" title="binder">s</span></a> <a id="a:81" class="idref" href="#a:81"><span class="id" title="binder">a</span></a> <a id="I:82" class="idref" href="#I:82"><span class="id" title="binder">I</span></a> <a id="O:83" class="idref" href="#O:83"><span class="id" title="binder">O</span></a> <a id="mi:84" class="idref" href="#mi:84"><span class="id" title="binder">mi</span></a> <a id="mo:85" class="idref" href="#mo:85"><span class="id" title="binder">mo</span></a> <a id="s':86" class="idref" href="#s':86"><span class="id" title="binder">s'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> <a class="idref" href="Must.Normalisation.html#s:80"><span class="id" title="variable">s</span></a> <a class="idref" href="Must.Normalisation.html#I:82"><span class="id" title="variable">I</span></a> <a class="idref" href="Must.Normalisation.html#O:83"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#mi:84"><span class="id" title="variable">mi</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#mo:85"><span class="id" title="variable">mo</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s':86"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> <a class="idref" href="Must.Normalisation.html#s:80"><span class="id" title="variable">s</span></a> (<span class="id" title="notation">{[+</span> <a class="idref" href="Must.Normalisation.html#a:81"><span class="id" title="variable">a</span></a> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#I:82"><span class="id" title="variable">I</span></a>) <a class="idref" href="Must.Normalisation.html#O:83"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="notation">{[+</span> <a class="idref" href="Must.Normalisation.html#a:81"><span class="id" title="variable">a</span></a> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#mi:84"><span class="id" title="variable">mi</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#mo:85"><span class="id" title="variable">mo</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s':86"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_input_step"><span class="id" title="lemma">norm_loop_input_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHs</span> <span class="id" title="var">a0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_input_step"><span class="id" title="lemma">norm_loop_input_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">I</span><span class="id" title="notation">)</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">I</span><span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_input_step"><span class="id" title="lemma">norm_loop_output_input_step</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_output_step"><span class="id" title="lemma">norm_loop_output_output_step</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_extend_mo" class="idref" href="#norm_extend_mo"><span class="id" title="lemma">norm_extend_mo</span></a> `{<a id="HL:88" class="idref" href="#HL:88"><span class="id" title="binder">HL</span></a> : <a class="idref" href="Must.TransitionSystems.html#Label"><span class="id" title="class">Label</span></a> <a id="L:87" class="idref" href="#L:87"><span class="id" title="binder">L</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:89" class="idref" href="#s:89"><span class="id" title="binder">s</span></a> <a id="a:90" class="idref" href="#a:90"><span class="id" title="binder">a</span></a> <a id="I:91" class="idref" href="#I:91"><span class="id" title="binder">I</span></a> <a id="O:92" class="idref" href="#O:92"><span class="id" title="binder">O</span></a> <a id="mi:93" class="idref" href="#mi:93"><span class="id" title="binder">mi</span></a> <a id="mo:94" class="idref" href="#mo:94"><span class="id" title="binder">mo</span></a> <a id="s':95" class="idref" href="#s':95"><span class="id" title="binder">s'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> <a class="idref" href="Must.Normalisation.html#s:89"><span class="id" title="variable">s</span></a> <a class="idref" href="Must.Normalisation.html#I:91"><span class="id" title="variable">I</span></a> <a class="idref" href="Must.Normalisation.html#O:92"><span class="id" title="variable">O</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#mi:93"><span class="id" title="variable">mi</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#mo:94"><span class="id" title="variable">mo</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s':95"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> <a class="idref" href="Must.Normalisation.html#s:89"><span class="id" title="variable">s</span></a> <a class="idref" href="Must.Normalisation.html#I:91"><span class="id" title="variable">I</span></a> (<span class="id" title="notation">{[+</span> <a class="idref" href="Must.Normalisation.html#a:90"><span class="id" title="variable">a</span></a> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#O:92"><span class="id" title="variable">O</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#mi:93"><span class="id" title="variable">mi</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">{[+</span> <a class="idref" href="Must.Normalisation.html#a:90"><span class="id" title="variable">a</span></a> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <a class="idref" href="Must.Normalisation.html#mo:94"><span class="id" title="variable">mo</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s':95"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_input_step"><span class="id" title="lemma">norm_loop_input_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHs</span> <span class="id" title="var">a0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_input_step"><span class="id" title="lemma">norm_loop_input_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">I</span><span class="id" title="notation">)</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">I</span><span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">O</span><span class="id" title="notation">)</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">O</span><span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_input_step"><span class="id" title="lemma">norm_loop_output_input_step</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">O</span><span class="id" title="notation">)</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">O</span><span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_output_step"><span class="id" title="lemma">norm_loop_output_output_step</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHs</span> <span class="id" title="var">a0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">O</span><span class="id" title="notation">)</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a0</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">(</span><span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">O</span><span class="id" title="notation">)</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">multiset_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="normalize_loop_mi" class="idref" href="#normalize_loop_mi"><span class="id" title="lemma">normalize_loop_mi</span></a> `{<a id="HL:97" class="idref" href="#HL:97"><span class="id" title="binder">HL</span></a> : <a class="idref" href="Must.TransitionSystems.html#Label"><span class="id" title="class">Label</span></a> <a id="L:96" class="idref" href="#L:96"><span class="id" title="binder">L</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:98" class="idref" href="#s:98"><span class="id" title="binder">s</span></a> <a id="a:99" class="idref" href="#a:99"><span class="id" title="binder">a</span></a> <a id="mi:100" class="idref" href="#mi:100"><span class="id" title="binder">mi</span></a> <a id="mo:101" class="idref" href="#mo:101"><span class="id" title="binder">mo</span></a> <a id="I:102" class="idref" href="#I:102"><span class="id" title="binder">I</span></a> <a id="O:103" class="idref" href="#O:103"><span class="id" title="binder">O</span></a> <a id="nt:104" class="idref" href="#nt:104"><span class="id" title="binder">nt</span></a><span class="id" title="notation">,</span> <a class="idref" href="Must.Normalisation.html#normalize_loop"><span class="id" title="definition">normalize_loop</span></a> (<a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <a class="idref" href="Must.Normalisation.html#a:99"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#s:98"><span class="id" title="variable">s</span></a>) <a class="idref" href="Must.Normalisation.html#mi:100"><span class="id" title="variable">mi</span></a> <a class="idref" href="Must.Normalisation.html#mo:101"><span class="id" title="variable">mo</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#I:102"><span class="id" title="variable">I</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#O:103"><span class="id" title="variable">O</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#nt:104"><span class="id" title="variable">nt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#mi:100"><span class="id" title="variable">mi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Must.Normalisation.html#I:102"><span class="id" title="variable">I</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_input_step"><span class="id" title="lemma">norm_loop_output_input_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_shape" class="idref" href="#norm_shape"><span class="id" title="lemma">norm_shape</span></a> `{<a id="HL:106" class="idref" href="#HL:106"><span class="id" title="binder">HL</span></a> : <a class="idref" href="Must.TransitionSystems.html#Label"><span class="id" title="class">Label</span></a> <a id="L:105" class="idref" href="#L:105"><span class="id" title="binder">L</span></a>} : <span class="id" title="notation">forall</span> <a id="s:107" class="idref" href="#s:107"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="I:108" class="idref" href="#I:108"><span class="id" title="binder">I</span></a> <a id="O:109" class="idref" href="#O:109"><span class="id" title="binder">O</span></a> <a id="s1:110" class="idref" href="#s1:110"><span class="id" title="binder">s1</span></a> <a id="s2:111" class="idref" href="#s2:111"><span class="id" title="binder">s2</span></a> <a id="s':112" class="idref" href="#s':112"><span class="id" title="binder">s'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#I:108"><span class="id" title="variable">I</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Must.Normalisation.html#O:109"><span class="id" title="variable">O</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s':112"><span class="id" title="variable">s'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Must.Normalisation.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Must.Normalisation.html#s1:110"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Must.Normalisation.html#s2:111"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Must.Normalisation.html#s':112"><span class="id" title="variable">s'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Must.TransitionSystems.html#are_inputs"><span class="id" title="definition">are_inputs</span></a> <a class="idref" href="Must.Normalisation.html#s1:110"><span class="id" title="variable">s1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Must.TransitionSystems.html#are_outputs"><span class="id" title="definition">are_outputs</span></a> <a class="idref" href="Must.Normalisation.html#s2:111"><span class="id" title="variable">s2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="Must.Normalisation.html#I:108"><span class="id" title="variable">I</span></a>) <span class="id" title="notation">≡ₚ</span> <a class="idref" href="Must.Normalisation.html#s1:110"><span class="id" title="variable">s1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="Must.Normalisation.html#O:109"><span class="id" title="variable">O</span></a>) <span class="id" title="notation">≡ₚ</span> <a class="idref" href="Must.Normalisation.html#s2:111"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">μ</span> <span class="id" title="var">s</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">μ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_nil"><span class="id" title="lemma">norm_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span>, <span class="id" title="notation">∅</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_nil"><span class="id" title="constructor">Forall_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> : <span class="id" title="record">gmultiset</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_cons"><span class="id" title="constructor">Forall_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_nil"><span class="id" title="constructor">Forall_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elements_singleton</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span> &amp; <span class="id" title="var">mo</span> &amp; <span class="id" title="var">s1</span> &amp; <span class="id" title="var">s2</span> &amp; <span class="id" title="var">s'</span> &amp; <span class="id" title="var">e0</span> &amp; <span class="id" title="var">e1</span> &amp; <span class="id" title="var">e3</span> &amp; <span class="id" title="var">e4</span> &amp; <span class="id" title="var">e5</span> &amp; <span class="id" title="var">e6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">mi</span>), <span class="id" title="var">mo</span>, (<a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s1</span>), <span class="id" title="var">s2</span>, <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_input_step"><span class="id" title="lemma">norm_loop_input_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_extend_mi"><span class="id" title="lemma">norm_extend_mi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_cons"><span class="id" title="constructor">Forall_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elements_disj_union</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elements_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_nil"><span class="id" title="lemma">norm_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span>  <span class="id" title="notation">∅</span>, <span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_nil"><span class="id" title="constructor">Forall_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> : <span class="id" title="record">gmultiset</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_cons"><span class="id" title="constructor">Forall_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_nil"><span class="id" title="constructor">Forall_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elements_singleton</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span> &amp; <span class="id" title="var">mo</span> &amp; <span class="id" title="var">s1</span> &amp; <span class="id" title="var">s2</span> &amp; <span class="id" title="var">s'</span> &amp; <span class="id" title="var">e0</span> &amp; <span class="id" title="var">e1</span> &amp; <span class="id" title="var">e3</span> &amp; <span class="id" title="var">e4</span> &amp; <span class="id" title="var">e5</span> &amp; <span class="id" title="var">e6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">inversion</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++++ <span class="id" title="tactic">exists</span> <span class="id" title="notation">∅</span>, <span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>, (<a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <span class="id" title="tactic">at</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.Normalisation.html#norm_extend_mo"><span class="id" title="lemma">norm_extend_mo</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_input_step"><span class="id" title="lemma">norm_loop_output_input_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">replace</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> : <span class="id" title="record">gmultiset</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">multiset_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_nil"><span class="id" title="constructor">Forall_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_cons"><span class="id" title="constructor">Forall_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_nil"><span class="id" title="constructor">Forall_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elements_singleton</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++++ <span class="id" title="tactic">exists</span> <span class="id" title="var">mi</span>, (<span class="id" title="notation">{[+</span> <span class="id" title="var">a</span> <span class="id" title="notation">+]}</span> <span class="id" title="notation">⊎</span> <span class="id" title="var">mo</span>), <span class="id" title="var">s1</span>, (<a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s2</span>), <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <span class="id" title="tactic">at</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Must.Normalisation.html#norm_loop_output_output_step"><span class="id" title="lemma">norm_loop_output_output_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_extend_mo"><span class="id" title="lemma">norm_extend_mo</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_loop_mi"><span class="id" title="lemma">normalize_loop_mi</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elements_empty</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_nil"><span class="id" title="lemma">Permutation_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e5</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_cons"><span class="id" title="constructor">Forall_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elements_disj_union</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">gmultiset_elements_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_perm" class="idref" href="#norm_perm"><span class="id" title="lemma">norm_perm</span></a> `{<a id="HL:114" class="idref" href="#HL:114"><span class="id" title="binder">HL</span></a> : <a class="idref" href="Must.TransitionSystems.html#Label"><span class="id" title="class">Label</span></a> <a id="L:113" class="idref" href="#L:113"><span class="id" title="binder">L</span></a>} : <span class="id" title="notation">forall</span> <a id="nt:115" class="idref" href="#nt:115"><span class="id" title="binder">nt</span></a> <a id="s1:116" class="idref" href="#s1:116"><span class="id" title="binder">s1</span></a> <a id="s2:117" class="idref" href="#s2:117"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s1:116"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Must.Normalisation.html#nt:115"><span class="id" title="variable">nt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s2:117"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Must.Normalisation.html#nt:115"><span class="id" title="variable">nt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#s1:116"><span class="id" title="variable">s1</span></a> <span class="id" title="notation">≡ₚ</span> <a class="idref" href="Must.Normalisation.html#s2:117"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">nt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">nt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_nil"><span class="id" title="lemma">norm_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>, <span class="id" title="var">H2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span> &amp; <span class="id" title="var">mo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Must.Normalisation.html#norm_shape"><span class="id" title="lemma">norm_shape</span></a> <span class="id" title="var">s1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Must.Normalisation.html#norm_shape"><span class="id" title="lemma">norm_shape</span></a> <span class="id" title="var">s2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mi0</span> &amp; <span class="id" title="var">mo0</span> &amp; <span class="id" title="var">s01</span> &amp; <span class="id" title="var">s02</span> &amp; <span class="id" title="var">s03</span> &amp; <span class="id" title="var">e01</span> &amp; <span class="id" title="var">e02</span> &amp; <span class="id" title="var">e03</span> &amp; <span class="id" title="var">e04</span> &amp; <span class="id" title="var">e05</span> &amp; <span class="id" title="var">e06</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mi1</span> &amp; <span class="id" title="var">mo1</span> &amp; <span class="id" title="var">s11</span> &amp; <span class="id" title="var">s12</span> &amp; <span class="id" title="var">s13</span> &amp; <span class="id" title="var">e11</span> &amp; <span class="id" title="var">e12</span> &amp; <span class="id" title="var">e13</span> &amp; <span class="id" title="var">e14</span> &amp; <span class="id" title="var">e15</span> &amp; <span class="id" title="var">e16</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e01</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e11</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_tail"><span class="id" title="lemma">Permutation_app_tail</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mi</span>)). <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e15</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_head"><span class="id" title="lemma">Permutation_app_head</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_tail"><span class="id" title="lemma">Permutation_app_tail</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mo</span>)). <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e06</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_head"><span class="id" title="lemma">Permutation_app_head</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_app_head"><span class="id" title="lemma">Permutation_app_head</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">IHnt</span> <span class="id" title="var">s03</span> <span class="id" title="var">s13</span> <span class="id" title="var">H7</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="norm_length" class="idref" href="#norm_length"><span class="id" title="lemma">norm_length</span></a> `{<a id="HL:119" class="idref" href="#HL:119"><span class="id" title="binder">HL</span></a> : <a class="idref" href="Must.TransitionSystems.html#Label"><span class="id" title="class">Label</span></a> <a id="L:118" class="idref" href="#L:118"><span class="id" title="binder">L</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:120" class="idref" href="#s:120"><span class="id" title="binder">s</span></a> <a id="I:121" class="idref" href="#I:121"><span class="id" title="binder">I</span></a> <a id="O:122" class="idref" href="#O:122"><span class="id" title="binder">O</span></a> <a id="s':123" class="idref" href="#s':123"><span class="id" title="binder">s'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s:120"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Must.Normalisation.html#I:121"><span class="id" title="variable">I</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#O:122"><span class="id" title="variable">O</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <a class="idref" href="Must.Normalisation.html#s':123"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Must.Normalisation.html#s':123"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="Must.Normalisation.html#s:120"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Must.Normalisation.html#norm_shape"><span class="id" title="lemma">norm_shape</span></a> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_loop_nil"><span class="id" title="lemma">norm_loop_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mi'</span> &amp; <span class="id" title="var">mo'</span> &amp; <span class="id" title="var">s1</span> &amp; <span class="id" title="var">s2</span> &amp; <span class="id" title="var">s''</span> &amp; <span class="id" title="var">e0</span> &amp; <span class="id" title="var">e1</span> &amp; <span class="id" title="var">e3</span> &amp; <span class="id" title="var">e4</span> &amp; <span class="id" title="var">e5</span> &amp; <span class="id" title="var">e6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:124" class="idref" href="#a:124"><span class="id" title="binder"><span id="a:125" class="id">a</span></span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#a:124"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">s1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">s2</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">b</span> &amp; <span class="id" title="var">mem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <span class="id" title="var">a</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_app</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="instance">elem_of_Permutation_proper</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_list_fmap</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">gmultiset_elem_of_elements</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_input_mem"><span class="id" title="lemma">norm_input_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <span class="id" title="var">a</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_app</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="instance">elem_of_Permutation_proper</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_list_fmap</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">gmultiset_elem_of_elements</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_output_mem"><span class="id" title="lemma">norm_output_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_Permutation</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mem</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">s0</span> &amp; <span class="id" title="var">eqp</span>) .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">s1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">s2</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">s'</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">s''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_add_pos_l"><span class="id" title="lemma">PeanoNat.Nat.lt_add_pos_l</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_0_succ"><span class="id" title="lemma">Nat.lt_0_succ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_length"><span class="id" title="lemma">Permutation_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_perm"><span class="id" title="lemma">norm_perm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Sorting.Permutation.html#Permutation_length"><span class="id" title="lemma">Permutation_length</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Wellfounded.Wellfounded.html#"><span class="id" title="library">Wellfounded</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="normalize_wta_r" class="idref" href="#normalize_wta_r"><span class="id" title="lemma">normalize_wta_r</span></a> `{<a id="H2:132" class="idref" href="#H2:132"><span class="id" title="binder">LtsObaFW</span></a> <a id="A:126" class="idref" href="#A:126"><span class="id" title="binder"><span id="H2:132" class="id">A</span></span></a> <a id="L:127" class="idref" href="#L:127"><span class="id" title="binder"><span id="H2:132" class="id">L</span></span></a>} : <span class="id" title="notation">forall</span> <a id="s:133" class="idref" href="#s:133"><span class="id" title="binder">s</span></a> <a id="p:134" class="idref" href="#p:134"><span class="id" title="binder">p</span></a> <a id="q:135" class="idref" href="#q:135"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span> <a class="idref" href="Must.Normalisation.html#p:134"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">⟹[</span></a><a class="idref" href="Must.Normalisation.html#s:133"><span class="id" title="variable">s</span></a><a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">]</span></a> <a class="idref" href="Must.Normalisation.html#q:135"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:134"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#4a30c0e29905036476a6a8e881a978b9"><span class="id" title="notation">⟹⋍[</span></a><a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟪</span></a><a class="idref" href="Must.Normalisation.html#s:133"><span class="id" title="variable">s</span></a><a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟫</span></a><a class="idref" href="Must.TransitionSystems.html#4a30c0e29905036476a6a8e881a978b9"><span class="id" title="notation">]</span></a> <a class="idref" href="Must.Normalisation.html#q:135"><span class="id" title="variable">q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">s</span> &amp; <span class="id" title="var">Hlength</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">using</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Wellfounded.Inverse_Image.html#wf_inverse_image"><span class="id" title="lemma">wf_inverse_image</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_wf_0"><span class="id" title="lemma">PeanoNat.Nat.lt_wf_0</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Must.Normalisation.html#norm_shape"><span class="id" title="lemma">norm_shape</span></a> (<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_loop_nil"><span class="id" title="lemma">norm_loop_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span> &amp; <span class="id" title="var">mo</span> &amp; <span class="id" title="var">s1</span> &amp; <span class="id" title="var">s2</span> &amp; <span class="id" title="var">s'</span> &amp; <span class="id" title="var">e0</span> &amp; <span class="id" title="var">e1</span> &amp; <span class="id" title="var">e3</span> &amp; <span class="id" title="var">e4</span> &amp; <span class="id" title="var">e5</span> &amp; <span class="id" title="var">e6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_split"><span class="id" title="lemma">wt_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t</span> &amp; <span class="id" title="var">w1</span> &amp; <span class="id" title="var">w2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_split"><span class="id" title="lemma">wt_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">r</span> &amp; <span class="id" title="var">w2</span> &amp; <span class="id" title="var">w3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hl</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">s'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_length"><span class="id" title="lemma">norm_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">h</span> := <span class="id" title="var">Hlength</span> <span class="id" title="var">s'</span> <span class="id" title="var">hl</span> <span class="id" title="var">r</span> <span class="id" title="var">q</span> <span class="id" title="var">w3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_join_eq"><span class="id" title="lemma">wt_join_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_input_perm"><span class="id" title="lemma">wt_input_perm</span></a> <span class="id" title="var">s1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_join_eq"><span class="id" title="lemma">wt_join_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_output_perm"><span class="id" title="lemma">wt_output_perm</span></a> <span class="id" title="var">s2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="are_inputs_map_ActIn" class="idref" href="#are_inputs_map_ActIn"><span class="id" title="lemma">are_inputs_map_ActIn</span></a> `{<a id="H:137" class="idref" href="#H:137"><span class="id" title="binder">Label</span></a> <a id="L:136" class="idref" href="#L:136"><span class="id" title="binder"><span id="H:137" class="id">L</span></span></a>} (<a id="s:138" class="idref" href="#s:138"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Must.Normalisation.html#L:136"><span class="id" title="variable">L</span></a>) : <a class="idref" href="Must.TransitionSystems.html#are_inputs"><span class="id" title="definition">are_inputs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> <a class="idref" href="Must.Normalisation.html#s:138"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_nil"><span class="id" title="constructor">Forall_nil</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_cons"><span class="id" title="constructor">Forall_cons</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="are_outputs_map_ActOut" class="idref" href="#are_outputs_map_ActOut"><span class="id" title="lemma">are_outputs_map_ActOut</span></a> `{<a id="H:140" class="idref" href="#H:140"><span class="id" title="binder">Label</span></a> <a id="L:139" class="idref" href="#L:139"><span class="id" title="binder"><span id="H:140" class="id">L</span></span></a>} (<a id="s:141" class="idref" href="#s:141"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Must.Normalisation.html#L:139"><span class="id" title="variable">L</span></a>) : <a class="idref" href="Must.TransitionSystems.html#are_outputs"><span class="id" title="definition">are_outputs</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> <a class="idref" href="Must.Normalisation.html#s:141"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_nil"><span class="id" title="constructor">Forall_nil</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#Forall_cons"><span class="id" title="constructor">Forall_cons</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="normalize_wta_l" class="idref" href="#normalize_wta_l"><span class="id" title="lemma">normalize_wta_l</span></a> `{<a id="H2:148" class="idref" href="#H2:148"><span class="id" title="binder">LtsObaFW</span></a> <a id="A:142" class="idref" href="#A:142"><span class="id" title="binder"><span id="H2:148" class="id">A</span></span></a> <a id="L:143" class="idref" href="#L:143"><span class="id" title="binder"><span id="H2:148" class="id">L</span></span></a>} : <span class="id" title="notation">forall</span> <a id="s:149" class="idref" href="#s:149"><span class="id" title="binder">s</span></a> <a id="p:150" class="idref" href="#p:150"><span class="id" title="binder">p</span></a> <a id="q:151" class="idref" href="#q:151"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span> <a class="idref" href="Must.Normalisation.html#p:150"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">⟹[</span></a><a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟪</span></a><a class="idref" href="Must.Normalisation.html#s:149"><span class="id" title="variable">s</span></a><a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟫</span></a><a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">]</span></a> <a class="idref" href="Must.Normalisation.html#q:151"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:150"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#4a30c0e29905036476a6a8e881a978b9"><span class="id" title="notation">⟹⋍[</span></a><a class="idref" href="Must.Normalisation.html#s:149"><span class="id" title="variable">s</span></a><a class="idref" href="Must.TransitionSystems.html#4a30c0e29905036476a6a8e881a978b9"><span class="id" title="notation">]</span></a> <a class="idref" href="Must.Normalisation.html#q:151"><span class="id" title="variable">q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">s</span> &amp; <span class="id" title="var">Hlength</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">using</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Wellfounded.Inverse_Image.html#wf_inverse_image"><span class="id" title="lemma">wf_inverse_image</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_wf_0"><span class="id" title="lemma">PeanoNat.Nat.lt_wf_0</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Must.Normalisation.html#norm_shape"><span class="id" title="lemma">norm_shape</span></a> (<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_loop_nil"><span class="id" title="lemma">norm_loop_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span> &amp; <span class="id" title="var">mo</span> &amp; <span class="id" title="var">s1</span> &amp; <span class="id" title="var">s2</span> &amp; <span class="id" title="var">s'</span> &amp; <span class="id" title="var">e0</span> &amp; <span class="id" title="var">e1</span> &amp; <span class="id" title="var">e3</span> &amp; <span class="id" title="var">e4</span> &amp; <span class="id" title="var">e5</span> &amp; <span class="id" title="var">e6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_split"><span class="id" title="lemma">wt_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t</span> &amp; <span class="id" title="var">w1</span> &amp; <span class="id" title="var">w2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_split"><span class="id" title="lemma">wt_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">r</span> &amp; <span class="id" title="var">w2</span> &amp; <span class="id" title="var">w3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">hl</span> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">s'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_length"><span class="id" title="lemma">norm_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e0</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">h</span> := <span class="id" title="var">Hlength</span> <span class="id" title="var">s'</span> <span class="id" title="var">hl</span> <span class="id" title="var">r</span> <span class="id" title="var">q</span> <span class="id" title="var">w3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_join_eq"><span class="id" title="lemma">wt_join_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_input_perm"><span class="id" title="lemma">wt_input_perm</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mi</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#are_inputs_map_ActIn"><span class="id" title="lemma">are_inputs_map_ActIn</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_join_eq"><span class="id" title="lemma">wt_join_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_output_perm"><span class="id" title="lemma">wt_output_perm</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mo</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#are_outputs_map_ActOut"><span class="id" title="lemma">are_outputs_map_ActOut</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="normalize_wta" class="idref" href="#normalize_wta"><span class="id" title="lemma">normalize_wta</span></a> `{<a id="H2:158" class="idref" href="#H2:158"><span class="id" title="binder">LtsObaFW</span></a> <a id="A:152" class="idref" href="#A:152"><span class="id" title="binder"><span id="H2:158" class="id">A</span></span></a> <a id="L:153" class="idref" href="#L:153"><span class="id" title="binder"><span id="H2:158" class="id">L</span></span></a>} <a id="s:159" class="idref" href="#s:159"><span class="id" title="binder">s</span></a> <a id="p:160" class="idref" href="#p:160"><span class="id" title="binder">p</span></a> <a id="q:161" class="idref" href="#q:161"><span class="id" title="binder">q</span></a> : <a class="idref" href="Must.Normalisation.html#p:160"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#4a30c0e29905036476a6a8e881a978b9"><span class="id" title="notation">⟹⋍[</span></a><a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟪</span></a><a class="idref" href="Must.Normalisation.html#s:159"><span class="id" title="variable">s</span></a><a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟫</span></a><a class="idref" href="Must.TransitionSystems.html#4a30c0e29905036476a6a8e881a978b9"><span class="id" title="notation">]</span></a> <a class="idref" href="Must.Normalisation.html#q:161"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:160"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#4a30c0e29905036476a6a8e881a978b9"><span class="id" title="notation">⟹⋍[</span></a><a class="idref" href="Must.Normalisation.html#s:159"><span class="id" title="variable">s</span></a><a class="idref" href="Must.TransitionSystems.html#4a30c0e29905036476a6a8e881a978b9"><span class="id" title="notation">]</span></a> <a class="idref" href="Must.Normalisation.html#q:161"><span class="id" title="variable">q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">q'</span> &amp; <span class="id" title="var">w</span> &amp; <span class="id" title="var">sc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_wta_l"><span class="id" title="lemma">normalize_wta_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q''</span> &amp; <span class="id" title="var">w</span> &amp; <span class="id" title="var">sc'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">q''</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>. <span class="id" title="tactic">transitivity</span> <span class="id" title="var">q'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">q'</span> &amp; <span class="id" title="var">w</span> &amp; <span class="id" title="var">sc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_wta_r"><span class="id" title="lemma">normalize_wta_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q''</span> &amp; <span class="id" title="var">w</span> &amp; <span class="id" title="var">sc'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">q''</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>. <span class="id" title="tactic">transitivity</span> <span class="id" title="var">q'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="outputs_of_eq" class="idref" href="#outputs_of_eq"><span class="id" title="lemma">outputs_of_eq</span></a> `{<a id="H1:166" class="idref" href="#H1:166"><span class="id" title="binder">LtsEq</span></a> <a id="A:162" class="idref" href="#A:162"><span class="id" title="binder"><span id="H1:166" class="id">A</span></span></a> <a id="L:163" class="idref" href="#L:163"><span class="id" title="binder"><span id="H1:166" class="id">L</span></span></a>} <a id="p:167" class="idref" href="#p:167"><span class="id" title="binder">p</span></a> <a id="q:168" class="idref" href="#q:168"><span class="id" title="binder">q</span></a> : <a class="idref" href="Must.Normalisation.html#p:167"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#ee9eb61a0a1ed2336e3bf5499731d62a"><span class="id" title="notation">⋍</span></a> <a class="idref" href="Must.Normalisation.html#q:168"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.TransitionSystems.html#lts_outputs"><span class="id" title="method">lts_outputs</span></a> <a class="idref" href="Must.Normalisation.html#p:167"><span class="id" title="variable">p</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="Must.TransitionSystems.html#lts_outputs"><span class="id" title="method">lts_outputs</span></a> <a class="idref" href="Must.Normalisation.html#q:168"><span class="id" title="variable">q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">lh</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#lts_outputs_spec2"><span class="id" title="method">lts_outputs_spec2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">lh</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p'</span> &amp; <span class="id" title="var">hl</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="Must.TransitionSystems.html#eq_spec"><span class="id" title="method">eq_spec</span></a> <span class="id" title="var">q</span> <span class="id" title="var">p'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">q'</span> &amp; <span class="id" title="var">hl'</span> &amp; <span class="id" title="var">heq'</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#lts_outputs_spec1"><span class="id" title="method">lts_outputs_spec1</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">lh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#lts_outputs_spec2"><span class="id" title="method">lts_outputs_spec2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">lh</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q'</span> &amp; <span class="id" title="var">hl</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="Must.TransitionSystems.html#eq_spec"><span class="id" title="method">eq_spec</span></a> <span class="id" title="var">p</span> <span class="id" title="var">q'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">p'</span> &amp; <span class="id" title="var">hl'</span> &amp; <span class="id" title="var">heq'</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#lts_outputs_spec1"><span class="id" title="method">lts_outputs_spec1</span></a>. <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="stable_preserved_by_eq" class="idref" href="#stable_preserved_by_eq"><span class="id" title="lemma">stable_preserved_by_eq</span></a> `{<a id="H1:173" class="idref" href="#H1:173"><span class="id" title="binder">LtsEq</span></a> <a id="A:169" class="idref" href="#A:169"><span class="id" title="binder"><span id="H1:173" class="id">A</span></span></a> <a id="L:170" class="idref" href="#L:170"><span class="id" title="binder"><span id="H1:173" class="id">L</span></span></a>} <a id="p:174" class="idref" href="#p:174"><span class="id" title="binder">p</span></a> <a id="q:175" class="idref" href="#q:175"><span class="id" title="binder">q</span></a> : <a class="idref" href="Must.Normalisation.html#p:174"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#ee9eb61a0a1ed2336e3bf5499731d62a"><span class="id" title="notation">⋍</span></a> <a class="idref" href="Must.Normalisation.html#q:175"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:174"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#70a49f19788ca4f524394e57ded0ed30"><span class="id" title="notation">↛</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#q:175"><span class="id" title="variable">q</span></a> <a class="idref" href="Must.TransitionSystems.html#70a49f19788ca4f524394e57ded0ed30"><span class="id" title="notation">↛</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">heq</span> <span class="id" title="var">hst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Must.TransitionSystems.html#lts_stable_decidable"><span class="id" title="method">lts_stable_decidable</span></a> <span class="id" title="var">q</span> <a class="idref" href="Must.TransitionSystems.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="constructor">τ</span></a>). <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#lts_stable_spec1"><span class="id" title="method">lts_stable_spec1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q'</span> &amp; <span class="id" title="var">hl</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="Must.TransitionSystems.html#eq_spec"><span class="id" title="method">eq_spec</span></a> <span class="id" title="var">p</span> <span class="id" title="var">q'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">p'</span> &amp; <span class="id" title="var">hl'</span> &amp; <span class="id" title="var">heq'</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#lts_stable_spec2"><span class="id" title="method">lts_stable_spec2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="normalize_accs" class="idref" href="#normalize_accs"><span class="id" title="lemma">normalize_accs</span></a> `{<a id="H2:182" class="idref" href="#H2:182"><span class="id" title="binder">LtsObaFW</span></a> <a id="A:176" class="idref" href="#A:176"><span class="id" title="binder"><span id="H2:182" class="id">A</span></span></a> <a id="L:177" class="idref" href="#L:177"><span class="id" title="binder"><span id="H2:182" class="id">L</span></span></a>, <a id="FiniteLts0:183" class="idref" href="#FiniteLts0:183"><span class="id" title="binder">!</span></a><a id="FiniteLts0:183" class="idref" href="#FiniteLts0:183"><span class="id" title="binder">FiniteLts</span></a> <a id="FiniteLts0:183" class="idref" href="#FiniteLts0:183"><span class="id" title="binder">A</span></a> <a id="FiniteLts0:183" class="idref" href="#FiniteLts0:183"><span class="id" title="binder">L</span></a>} (<a id="p:184" class="idref" href="#p:184"><span class="id" title="binder">p</span></a> : <a class="idref" href="Must.Normalisation.html#A:176"><span class="id" title="variable">A</span></a>) (<a id="s:185" class="idref" href="#s:185"><span class="id" title="binder">s</span></a> : <a class="idref" href="Must.TransitionSystems.html#trace"><span class="id" title="definition">trace</span></a> <a class="idref" href="Must.Normalisation.html#L:177"><span class="id" title="variable">L</span></a>) <a id="h1:186" class="idref" href="#h1:186"><span class="id" title="binder">h1</span></a> <a id="h2:187" class="idref" href="#h2:187"><span class="id" title="binder">h2</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="definition">set_map</span> <a class="idref" href="Must.TransitionSystems.html#lts_outputs"><span class="id" title="method">lts_outputs</span></a> (<a class="idref" href="Must.TransitionSystems.html#wt_stable_set"><span class="id" title="definition">wt_stable_set</span></a> <a class="idref" href="Must.Normalisation.html#p:184"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.Normalisation.html#s:185"><span class="id" title="variable">s</span></a> <a class="idref" href="Must.Normalisation.html#h1:186"><span class="id" title="variable">h1</span></a>) : <span class="id" title="definition">gset</span> (<span class="id" title="definition">gset</span> <a class="idref" href="Must.Normalisation.html#L:177"><span class="id" title="variable">L</span></a>)<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">≡</span> <span class="id" title="notation">(</span><span class="id" title="definition">set_map</span> <a class="idref" href="Must.TransitionSystems.html#lts_outputs"><span class="id" title="method">lts_outputs</span></a> (<a class="idref" href="Must.TransitionSystems.html#wt_stable_set"><span class="id" title="definition">wt_stable_set</span></a> <a class="idref" href="Must.Normalisation.html#p:184"><span class="id" title="variable">p</span></a> (<a class="idref" href="Must.Normalisation.html#linorm"><span class="id" title="definition">linorm</span></a> <a class="idref" href="Must.Normalisation.html#s:185"><span class="id" title="variable">s</span></a>) <a class="idref" href="Must.Normalisation.html#h2:187"><span class="id" title="variable">h2</span></a>) : <span class="id" title="definition">gset</span> (<span class="id" title="definition">gset</span> <a class="idref" href="Must.Normalisation.html#L:177"><span class="id" title="variable">L</span></a>)<span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_map</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q</span> &amp; <span class="id" title="var">eq</span> &amp; <span class="id" title="var">mem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_stable_set_spec1"><span class="id" title="lemma">wt_stable_set_spec1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">mem</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; <span class="id" title="var">st</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_wta_r"><span class="id" title="lemma">normalize_wta_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q'</span> &amp; <span class="id" title="var">w'</span> &amp; <span class="id" title="var">st'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">q'</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="Must.TransitionSystems.html#lts_outputs"><span class="id" title="method">lts_outputs</span></a> <span class="id" title="var">q</span>). <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">leibniz_equiv</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#outputs_of_eq"><span class="id" title="lemma">outputs_of_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">st'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_stable_set_spec2"><span class="id" title="lemma">wt_stable_set_spec2</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">st'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#stable_preserved_by_eq"><span class="id" title="lemma">stable_preserved_by_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_map</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q</span> &amp; <span class="id" title="var">eq</span> &amp; <span class="id" title="var">mem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_stable_set_spec1"><span class="id" title="lemma">wt_stable_set_spec1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">mem</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; <span class="id" title="var">st</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_wta_l"><span class="id" title="lemma">normalize_wta_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q'</span> &amp; <span class="id" title="var">w'</span> &amp; <span class="id" title="var">st'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">q'</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="Must.TransitionSystems.html#lts_outputs"><span class="id" title="method">lts_outputs</span></a> <span class="id" title="var">q</span>). <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">leibniz_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#outputs_of_eq"><span class="id" title="lemma">outputs_of_eq</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_stable_set_spec2"><span class="id" title="lemma">wt_stable_set_spec2</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">st'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#stable_preserved_by_eq"><span class="id" title="lemma">stable_preserved_by_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bhv_lin_pre_cond1" class="idref" href="#bhv_lin_pre_cond1"><span class="id" title="definition">bhv_lin_pre_cond1</span></a> `{<a id="H0:191" class="idref" href="#H0:191"><span class="id" title="binder">Lts</span></a> <a id="P:188" class="idref" href="#P:188"><span class="id" title="binder"><span id="H0:191" class="id">P</span></span></a> <a id="L:189" class="idref" href="#L:189"><span class="id" title="binder"><span id="H0:191" class="id">L</span></span></a>, <a id="H2:194" class="idref" href="#H2:194"><span class="id" title="binder">Lts</span></a> <a id="Q:192" class="idref" href="#Q:192"><span class="id" title="binder"><span id="H2:194" class="id">Q</span></span></a> <a id="H2:194" class="idref" href="#H2:194"><span class="id" title="binder">L</span></a>} (<a id="p:195" class="idref" href="#p:195"><span class="id" title="binder">p</span></a> : <a class="idref" href="Must.Normalisation.html#P:188"><span class="id" title="variable">P</span></a>) (<a id="q:196" class="idref" href="#q:196"><span class="id" title="binder">q</span></a> : <a class="idref" href="Must.Normalisation.html#Q:192"><span class="id" title="variable">Q</span></a>) := <span class="id" title="notation">forall</span> <a id="s:197" class="idref" href="#s:197"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="Must.Normalisation.html#p:195"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#linearize"><span class="id" title="definition">linearize</span></a> <a class="idref" href="Must.Normalisation.html#s:197"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#q:196"><span class="id" title="variable">q</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#linearize"><span class="id" title="definition">linearize</span></a> <a class="idref" href="Must.Normalisation.html#s:197"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="d94a32ca7f4f27e97b39d6a3d5a556b8" class="idref" href="#d94a32ca7f4f27e97b39d6a3d5a556b8"><span class="id" title="notation">&quot;</span></a>p ⪷₁ q" := (<a class="idref" href="Must.Normalisation.html#bhv_lin_pre_cond1"><span class="id" title="definition">bhv_lin_pre_cond1</span></a> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bhv_lin_pre_cond2" class="idref" href="#bhv_lin_pre_cond2"><span class="id" title="definition">bhv_lin_pre_cond2</span></a> `{<a id="H:201" class="idref" href="#H:201"><span class="id" title="binder">@</span></a><a id="H:201" class="idref" href="#H:201"><span class="id" title="binder">Lts</span></a> <a id="P:198" class="idref" href="#P:198"><span class="id" title="binder"><span id="H:201" class="id">P</span></span></a> <a id="L:199" class="idref" href="#L:199"><span class="id" title="binder"><span id="H:201" class="id">L</span></span></a> <a id="HL:200" class="idref" href="#HL:200"><span class="id" title="binder"><span id="H:201" class="id">HL</span></span></a>, <a id="H0:203" class="idref" href="#H0:203"><span class="id" title="binder">@</span></a><a id="H0:203" class="idref" href="#H0:203"><span class="id" title="binder">Lts</span></a> <a id="Q:202" class="idref" href="#Q:202"><span class="id" title="binder"><span id="H0:203" class="id">Q</span></span></a> <a id="H0:203" class="idref" href="#H0:203"><span class="id" title="binder">L</span></a> <a id="H0:203" class="idref" href="#H0:203"><span class="id" title="binder">HL</span></a>} (<a id="p:204" class="idref" href="#p:204"><span class="id" title="binder">p</span></a> : <a class="idref" href="Must.Normalisation.html#P:198"><span class="id" title="variable">P</span></a>) (<a id="q:205" class="idref" href="#q:205"><span class="id" title="binder">q</span></a> : <a class="idref" href="Must.Normalisation.html#Q:202"><span class="id" title="variable">Q</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="nt:206" class="idref" href="#nt:206"><span class="id" title="binder">nt</span></a> <a id="q':207" class="idref" href="#q':207"><span class="id" title="binder">q'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Must.Normalisation.html#p:204"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#linearize"><span class="id" title="definition">linearize</span></a> <a class="idref" href="Must.Normalisation.html#nt:206"><span class="id" title="variable">nt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#q:205"><span class="id" title="variable">q</span></a> <a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">⟹[</span></a><a class="idref" href="Must.Normalisation.html#linearize"><span class="id" title="definition">linearize</span></a> <a class="idref" href="Must.Normalisation.html#nt:206"><span class="id" title="variable">nt</span></a><a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">]</span></a> <a class="idref" href="Must.Normalisation.html#q':207"><span class="id" title="variable">q'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#q':207"><span class="id" title="variable">q'</span></a> <a class="idref" href="Must.TransitionSystems.html#70a49f19788ca4f524394e57ded0ed30"><span class="id" title="notation">↛</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="p':208" class="idref" href="#p':208"><span class="id" title="binder">p'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="Must.Normalisation.html#p:204"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">⟹[</span></a><a class="idref" href="Must.Normalisation.html#linearize"><span class="id" title="definition">linearize</span></a> <a class="idref" href="Must.Normalisation.html#nt:206"><span class="id" title="variable">nt</span></a><a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">]</span></a> <a class="idref" href="Must.Normalisation.html#p':208"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Must.Normalisation.html#p':208"><span class="id" title="variable">p'</span></a> <a class="idref" href="Must.TransitionSystems.html#70a49f19788ca4f524394e57ded0ed30"><span class="id" title="notation">↛</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Must.TransitionSystems.html#lts_outputs"><span class="id" title="method">lts_outputs</span></a> <a class="idref" href="Must.Normalisation.html#p':208"><span class="id" title="variable">p'</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="Must.TransitionSystems.html#lts_outputs"><span class="id" title="method">lts_outputs</span></a> <a class="idref" href="Must.Normalisation.html#q':207"><span class="id" title="variable">q'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="06019b2f1160e83618192a0b44d0ba79" class="idref" href="#06019b2f1160e83618192a0b44d0ba79"><span class="id" title="notation">&quot;</span></a>p ⪷₂ q" := (<a class="idref" href="Must.Normalisation.html#bhv_lin_pre_cond2"><span class="id" title="definition">bhv_lin_pre_cond2</span></a> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="bhv_lin_pre" class="idref" href="#bhv_lin_pre"><span class="id" title="definition">bhv_lin_pre</span></a> `{<a id="H:212" class="idref" href="#H:212"><span class="id" title="binder">@</span></a><a id="H:212" class="idref" href="#H:212"><span class="id" title="binder">Lts</span></a> <a id="P:209" class="idref" href="#P:209"><span class="id" title="binder"><span id="H:212" class="id">P</span></span></a> <a id="L:210" class="idref" href="#L:210"><span class="id" title="binder"><span id="H:212" class="id">L</span></span></a> <a id="HL:211" class="idref" href="#HL:211"><span class="id" title="binder"><span id="H:212" class="id">HL</span></span></a>, <a id="H0:214" class="idref" href="#H0:214"><span class="id" title="binder">@</span></a><a id="H0:214" class="idref" href="#H0:214"><span class="id" title="binder">Lts</span></a> <a id="Q:213" class="idref" href="#Q:213"><span class="id" title="binder"><span id="H0:214" class="id">Q</span></span></a> <a id="H0:214" class="idref" href="#H0:214"><span class="id" title="binder">L</span></a> <a id="H0:214" class="idref" href="#H0:214"><span class="id" title="binder">HL</span></a>} (<a id="p:215" class="idref" href="#p:215"><span class="id" title="binder">p</span></a> : <a class="idref" href="Must.Normalisation.html#P:209"><span class="id" title="variable">P</span></a>) (<a id="q:216" class="idref" href="#q:216"><span class="id" title="binder">q</span></a> : <a class="idref" href="Must.Normalisation.html#Q:213"><span class="id" title="variable">Q</span></a>) := <a class="idref" href="Must.Normalisation.html#p:215"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.Normalisation.html#d94a32ca7f4f27e97b39d6a3d5a556b8"><span class="id" title="notation">⪷</span></a><a class="idref" href="Must.Normalisation.html#d94a32ca7f4f27e97b39d6a3d5a556b8"><span class="id" title="notation">₁</span></a> <a class="idref" href="Must.Normalisation.html#q:216"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="Must.Normalisation.html#p:215"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.Normalisation.html#06019b2f1160e83618192a0b44d0ba79"><span class="id" title="notation">⪷</span></a><a class="idref" href="Must.Normalisation.html#06019b2f1160e83618192a0b44d0ba79"><span class="id" title="notation">₂</span></a> <a class="idref" href="Must.Normalisation.html#q:216"><span class="id" title="variable">q</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="8889e03795d1f18a6e42b1ecd71d042e" class="idref" href="#8889e03795d1f18a6e42b1ecd71d042e"><span class="id" title="notation">&quot;</span></a>p ⪷ q" := (<a class="idref" href="Must.Normalisation.html#bhv_lin_pre"><span class="id" title="definition">bhv_lin_pre</span></a> <span class="id" title="var">p</span> <span class="id" title="var">q</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cnv_prefix" class="idref" href="#cnv_prefix"><span class="id" title="lemma">cnv_prefix</span></a> `{<a id="H0:220" class="idref" href="#H0:220"><span class="id" title="binder">Lts</span></a> <a id="A:217" class="idref" href="#A:217"><span class="id" title="binder"><span id="H0:220" class="id">A</span></span></a> <a id="L:218" class="idref" href="#L:218"><span class="id" title="binder"><span id="H0:220" class="id">L</span></span></a>} {<a id="p:221" class="idref" href="#p:221"><span class="id" title="binder">p</span></a> <a id="s1:222" class="idref" href="#s1:222"><span class="id" title="binder">s1</span></a> <a id="s2:223" class="idref" href="#s2:223"><span class="id" title="binder">s2</span></a>} : <a class="idref" href="Must.Normalisation.html#p:221"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#s1:222"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Must.Normalisation.html#s2:223"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:221"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#s1:222"><span class="id" title="variable">s1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s2</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">s1</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_nil"><span class="id" title="constructor">cnv_nil</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_act"><span class="id" title="constructor">cnv_act</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q</span> <span class="id" title="var">hw</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cnv_jump" class="idref" href="#cnv_jump"><span class="id" title="lemma">cnv_jump</span></a> `{<a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">Lts</span></a> <a id="A:224" class="idref" href="#A:224"><span class="id" title="binder"><span id="H0:227" class="id">A</span></span></a> <a id="L:225" class="idref" href="#L:225"><span class="id" title="binder"><span id="H0:227" class="id">L</span></span></a>} <a id="s1:228" class="idref" href="#s1:228"><span class="id" title="binder">s1</span></a> <a id="s2:229" class="idref" href="#s2:229"><span class="id" title="binder">s2</span></a> <a id="p:230" class="idref" href="#p:230"><span class="id" title="binder">p</span></a> : <a class="idref" href="Must.Normalisation.html#p:230"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#s1:228"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="q:231" class="idref" href="#q:231"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span> <a class="idref" href="Must.Normalisation.html#p:230"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">⟹[</span></a><a class="idref" href="Must.Normalisation.html#s1:228"><span class="id" title="variable">s1</span></a><a class="idref" href="Must.TransitionSystems.html#a21a6abe9661adb1e29f5deb23c42341"><span class="id" title="notation">]</span></a> <a class="idref" href="Must.Normalisation.html#q:231"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#q:231"><span class="id" title="variable">q</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#s2:229"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:230"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#s1:228"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Must.Normalisation.html#s2:229"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s2</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s1</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">μ</span> <span class="id" title="var">s'</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">s2</span> <span class="id" title="var">p</span> <span class="id" title="var">hcnv</span> <span class="id" title="var">hs2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">hs2</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_act"><span class="id" title="constructor">cnv_act</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">hcnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHs'</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">hcnv</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">hs2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_push_left"><span class="id" title="lemma">wt_push_left</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="normalize_acnv_l" class="idref" href="#normalize_acnv_l"><span class="id" title="lemma">normalize_acnv_l</span></a> `{<a id="H2:238" class="idref" href="#H2:238"><span class="id" title="binder">LtsObaFW</span></a> <a id="A:232" class="idref" href="#A:232"><span class="id" title="binder"><span id="H2:238" class="id">A</span></span></a> <a id="L:233" class="idref" href="#L:233"><span class="id" title="binder"><span id="H2:238" class="id">L</span></span></a>} <a id="p:239" class="idref" href="#p:239"><span class="id" title="binder">p</span></a> <a id="s:240" class="idref" href="#s:240"><span class="id" title="binder">s</span></a> : <a class="idref" href="Must.Normalisation.html#p:239"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:239"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟪</span></a> <a class="idref" href="Must.Normalisation.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟫</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">s</span> &amp; <span class="id" title="var">Hlength</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Wellfounded.Inverse_Image.html#wf_inverse_image"><span class="id" title="lemma">wf_inverse_image</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_wf_0"><span class="id" title="lemma">Nat.lt_wf_0</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Must.Normalisation.html#norm_shape"><span class="id" title="lemma">norm_shape</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_nil"><span class="id" title="lemma">norm_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span> &amp; <span class="id" title="var">mo</span> &amp; <span class="id" title="var">s1</span> &amp; <span class="id" title="var">s2</span> &amp; <span class="id" title="var">s'</span> &amp; <span class="id" title="var">e0</span> &amp; <span class="id" title="var">e1</span> &amp; <span class="id" title="var">e3</span> &amp; <span class="id" title="var">e4</span> &amp; <span class="id" title="var">e5</span> &amp; <span class="id" title="var">e6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">hacnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hacnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">h0</span> := <a class="idref" href="Must.Normalisation.html#cnv_prefix"><span class="id" title="lemma">cnv_prefix</span></a> <span class="id" title="var">hacnv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">h2</span> := <a class="idref" href="Must.TransitionSystems.html#cnv_wt_prefix"><span class="id" title="lemma">cnv_wt_prefix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hacnv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#cnv_jump"><span class="id" title="lemma">cnv_jump</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#cnv_jump"><span class="id" title="lemma">cnv_jump</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_input_perm"><span class="id" title="lemma">cnv_input_perm</span></a>. <span class="id" title="var">eassumption</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#cnv_prefix"><span class="id" title="lemma">cnv_prefix</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q</span> <span class="id" title="var">hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_input_perm"><span class="id" title="lemma">wt_input_perm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">hw</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q0</span> &amp; <span class="id" title="var">hw0</span> &amp; <span class="id" title="var">heq0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">h2</span>, <a class="idref" href="Must.Normalisation.html#cnv_prefix"><span class="id" title="lemma">cnv_prefix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hw0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">heq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_output_perm"><span class="id" title="lemma">cnv_output_perm</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#are_inputs_map_ActIn"><span class="id" title="lemma">are_inputs_map_ActIn</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">q</span> <span class="id" title="var">hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlength</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_length"><span class="id" title="lemma">norm_length</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_split"><span class="id" title="lemma">wt_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hw</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t</span> &amp; <span class="id" title="var">hw1</span> &amp; <span class="id" title="var">hw2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_input_perm"><span class="id" title="lemma">wt_input_perm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">hw1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p0</span> &amp; <span class="id" title="var">hwp0</span> &amp; <span class="id" title="var">heqp0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_output_perm"><span class="id" title="lemma">wt_output_perm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">s2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">hw2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q0</span> &amp; <span class="id" title="var">hwq0</span> &amp; <span class="id" title="var">heqq0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">heqq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t</span> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <span class="id" title="var">s2</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">heqp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_wt_prefix"><span class="id" title="lemma">cnv_wt_prefix</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_wt_prefix"><span class="id" title="lemma">cnv_wt_prefix</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#are_outputs_map_ActOut"><span class="id" title="lemma">are_outputs_map_ActOut</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#are_inputs_map_ActIn"><span class="id" title="lemma">are_inputs_map_ActIn</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="normalize_acnv_r" class="idref" href="#normalize_acnv_r"><span class="id" title="lemma">normalize_acnv_r</span></a> `{<a id="H2:247" class="idref" href="#H2:247"><span class="id" title="binder">LtsObaFW</span></a> <a id="A:241" class="idref" href="#A:241"><span class="id" title="binder"><span id="H2:247" class="id">A</span></span></a> <a id="L:242" class="idref" href="#L:242"><span class="id" title="binder"><span id="H2:247" class="id">L</span></span></a>} <a id="p:248" class="idref" href="#p:248"><span class="id" title="binder">p</span></a> <a id="s:249" class="idref" href="#s:249"><span class="id" title="binder">s</span></a> : <a class="idref" href="Must.Normalisation.html#p:248"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟪</span></a> <a class="idref" href="Must.Normalisation.html#s:249"><span class="id" title="variable">s</span></a> <a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟫</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:248"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#s:249"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">s</span> &amp; <span class="id" title="var">Hlength</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Wellfounded.Inverse_Image.html#wf_inverse_image"><span class="id" title="lemma">wf_inverse_image</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_wf_0"><span class="id" title="lemma">Nat.lt_wf_0</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Must.Normalisation.html#norm_shape"><span class="id" title="lemma">norm_shape</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_nil"><span class="id" title="lemma">norm_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">mi</span> &amp; <span class="id" title="var">mo</span> &amp; <span class="id" title="var">s1</span> &amp; <span class="id" title="var">s2</span> &amp; <span class="id" title="var">s'</span> &amp; <span class="id" title="var">e0</span> &amp; <span class="id" title="var">e1</span> &amp; <span class="id" title="var">e3</span> &amp; <span class="id" title="var">e4</span> &amp; <span class="id" title="var">e5</span> &amp; <span class="id" title="var">e6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">hacnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hacnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hacnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">h0</span> := <a class="idref" href="Must.Normalisation.html#cnv_prefix"><span class="id" title="lemma">cnv_prefix</span></a> <span class="id" title="var">hacnv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">h1</span> := <a class="idref" href="Must.TransitionSystems.html#cnv_wt_prefix"><span class="id" title="lemma">cnv_wt_prefix</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hacnv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#cnv_jump"><span class="id" title="lemma">cnv_jump</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#cnv_jump"><span class="id" title="lemma">cnv_jump</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_input_perm"><span class="id" title="lemma">cnv_input_perm</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#are_inputs_map_ActIn"><span class="id" title="lemma">are_inputs_map_ActIn</span></a>. <span class="id" title="var">eassumption</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">q</span> <span class="id" title="var">hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_input_perm"><span class="id" title="lemma">wt_input_perm</span></a> <span class="id" title="var">s1</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mi</span>))) <span class="id" title="tactic">in</span> <span class="id" title="var">hw</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q0</span> &amp; <span class="id" title="var">hw0</span> &amp; <span class="id" title="var">heq0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">h1</span>, <a class="idref" href="Must.Normalisation.html#cnv_prefix"><span class="id" title="lemma">cnv_prefix</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hw0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">heq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_output_perm"><span class="id" title="lemma">cnv_output_perm</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#are_outputs_map_ActOut"><span class="id" title="lemma">are_outputs_map_ActOut</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>. <span class="id" title="var">eassumption</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">q</span> <span class="id" title="var">hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlength</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#norm_length"><span class="id" title="lemma">norm_length</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#wt_split"><span class="id" title="lemma">wt_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hw</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t</span> &amp; <span class="id" title="var">hw1</span> &amp; <span class="id" title="var">hw2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_input_perm"><span class="id" title="lemma">wt_input_perm</span></a> <span class="id" title="var">s1</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActIn"><span class="id" title="constructor">ActIn</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mi</span>))) <span class="id" title="tactic">in</span> <span class="id" title="var">hw1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p0</span> &amp; <span class="id" title="var">hwp0</span> &amp; <span class="id" title="var">heqp0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="Must.TransitionSystems.html#wt_output_perm"><span class="id" title="lemma">wt_output_perm</span></a> <span class="id" title="var">s2</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mo</span>))) <span class="id" title="tactic">in</span> <span class="id" title="var">hw2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q0</span> &amp; <span class="id" title="var">hwq0</span> &amp; <span class="id" title="var">heqq0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">heqq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t</span> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Must.TransitionSystems.html#ActOut"><span class="id" title="constructor">ActOut</span></a> (<span class="id" title="definition">elements</span> <span class="id" title="var">mo</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟪</span></a> <span class="id" title="var">s'</span> <a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟫</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">heqp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_wt_prefix"><span class="id" title="lemma">cnv_wt_prefix</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.TransitionSystems.html#cnv_wt_prefix"><span class="id" title="lemma">cnv_wt_prefix</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="normalize_acnv" class="idref" href="#normalize_acnv"><span class="id" title="lemma">normalize_acnv</span></a> `{<a id="H2:256" class="idref" href="#H2:256"><span class="id" title="binder">LtsObaFW</span></a> <a id="A:250" class="idref" href="#A:250"><span class="id" title="binder"><span id="H2:256" class="id">A</span></span></a> <a id="L:251" class="idref" href="#L:251"><span class="id" title="binder"><span id="H2:256" class="id">L</span></span></a>} <a id="p:257" class="idref" href="#p:257"><span class="id" title="binder">p</span></a> <a id="s:258" class="idref" href="#s:258"><span class="id" title="binder">s</span></a> : <a class="idref" href="Must.Normalisation.html#p:257"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#s:258"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:257"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.TransitionSystems.html#12f67462b11c7da9aef3c3fe18b13964"><span class="id" title="notation">⇓</span></a> <a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟪</span></a> <a class="idref" href="Must.Normalisation.html#s:258"><span class="id" title="variable">s</span></a> <a class="idref" href="Must.Normalisation.html#ed936ae6e031447307cd275976d0e12a"><span class="id" title="notation">⟫</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_acnv_l"><span class="id" title="lemma">normalize_acnv_l</span></a> | <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_acnv_r"><span class="id" title="lemma">normalize_acnv_r</span></a>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="asyn_iff_bhv" class="idref" href="#asyn_iff_bhv"><span class="id" title="lemma">asyn_iff_bhv</span></a><br/>
&nbsp;&nbsp;`{<a id="H:265" class="idref" href="#H:265"><span class="id" title="binder">@</span></a><a id="H:265" class="idref" href="#H:265"><span class="id" title="binder">LtsObaFW</span></a> <a id="P:259" class="idref" href="#P:259"><span class="id" title="binder"><span id="H:265" class="id">P</span></span></a> <a id="L:260" class="idref" href="#L:260"><span class="id" title="binder"><span id="H:265" class="id">L</span></span></a> <a id="IL:261" class="idref" href="#IL:261"><span class="id" title="binder"><span id="H:265" class="id">IL</span></span></a> <a id="LA:262" class="idref" href="#LA:262"><span class="id" title="binder"><span id="H:265" class="id">LA</span></span></a> <a id="LOA:263" class="idref" href="#LOA:263"><span class="id" title="binder"><span id="H:265" class="id">LOA</span></span></a> <a id="V:264" class="idref" href="#V:264"><span class="id" title="binder"><span id="H:265" class="id">V</span></span></a>, <a id="H0:270" class="idref" href="#H0:270"><span class="id" title="binder">@</span></a><a id="H0:270" class="idref" href="#H0:270"><span class="id" title="binder">LtsObaFW</span></a> <a id="Q:266" class="idref" href="#Q:266"><span class="id" title="binder"><span id="H0:270" class="id">Q</span></span></a> <a id="H0:270" class="idref" href="#H0:270"><span class="id" title="binder">L</span></a> <a id="H0:270" class="idref" href="#H0:270"><span class="id" title="binder">IL</span></a> <a id="LB:267" class="idref" href="#LB:267"><span class="id" title="binder"><span id="H0:270" class="id">LB</span></span></a> <a id="LOB:268" class="idref" href="#LOB:268"><span class="id" title="binder"><span id="H0:270" class="id">LOB</span></span></a> <a id="W:269" class="idref" href="#W:269"><span class="id" title="binder"><span id="H0:270" class="id">W</span></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="FiniteLts0:271" class="idref" href="#FiniteLts0:271"><span class="id" title="binder">!</span></a><a id="FiniteLts0:271" class="idref" href="#FiniteLts0:271"><span class="id" title="binder">FiniteLts</span></a> <a id="FiniteLts0:271" class="idref" href="#FiniteLts0:271"><span class="id" title="binder">Q</span></a> <a id="FiniteLts0:271" class="idref" href="#FiniteLts0:271"><span class="id" title="binder">L</span></a>, <a id="FiniteLts1:272" class="idref" href="#FiniteLts1:272"><span class="id" title="binder">!</span></a><a id="FiniteLts1:272" class="idref" href="#FiniteLts1:272"><span class="id" title="binder">FiniteLts</span></a> <a id="FiniteLts1:272" class="idref" href="#FiniteLts1:272"><span class="id" title="binder">Q</span></a> <a id="FiniteLts1:272" class="idref" href="#FiniteLts1:272"><span class="id" title="binder">L</span></a>} : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="p:273" class="idref" href="#p:273"><span class="id" title="binder">p</span></a> : <a class="idref" href="Must.Normalisation.html#P:259"><span class="id" title="variable">P</span></a>) (<a id="q:274" class="idref" href="#q:274"><span class="id" title="binder">q</span></a> : <a class="idref" href="Must.Normalisation.html#Q:266"><span class="id" title="variable">Q</span></a><span class="id" title="notation">),</span> <a class="idref" href="Must.Normalisation.html#p:273"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.Normalisation.html#8889e03795d1f18a6e42b1ecd71d042e"><span class="id" title="notation">⪷</span></a> <a class="idref" href="Must.Normalisation.html#q:274"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="Must.Normalisation.html#p:273"><span class="id" title="variable">p</span></a> <a class="idref" href="Must.Must.html#18cb969368e82052920d9ba5707bb97c"><span class="id" title="notation">≼</span></a> <a class="idref" href="Must.Normalisation.html#q:274"><span class="id" title="variable">q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">hl1</span> &amp; <span class="id" title="var">hl2</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">hacnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_acnv"><span class="id" title="lemma">normalize_acnv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hacnv</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">hl1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">hacnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_acnv"><span class="id" title="lemma">normalize_acnv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hacnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">q'</span> <span class="id" title="var">hacnv</span> <span class="id" title="var">hw</span> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_acnv"><span class="id" title="lemma">normalize_acnv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hacnv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_wta_r"><span class="id" title="lemma">normalize_wta_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">hw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">hw</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">q0</span> &amp; <span class="id" title="var">w0</span> &amp; <span class="id" title="var">sc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">h0</span> := <a class="idref" href="Must.Normalisation.html#stable_preserved_by_eq"><span class="id" title="lemma">stable_preserved_by_eq</span></a> <span class="id" title="var">q'</span> <span class="id" title="var">q0</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.1/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a> <span class="id" title="var">sc</span>) <span class="id" title="var">st</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">hl2</span> (<a class="idref" href="Must.Normalisation.html#normalize"><span class="id" title="definition">normalize</span></a> <span class="id" title="var">s</span>) <span class="id" title="var">q0</span> <span class="id" title="var">hacnv</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">p'</span> &amp; <span class="id" title="var">w'</span> &amp; <span class="id" title="var">sc'</span> &amp; <span class="id" title="var">sub</span>). <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#normalize_wta_l"><span class="id" title="lemma">normalize_wta_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">w'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p0</span> &amp; <span class="id" title="var">wp0</span> &amp; <span class="id" title="var">scp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Must.Normalisation.html#stable_preserved_by_eq"><span class="id" title="lemma">stable_preserved_by_eq</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="var">eassumption</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Must.Normalisation.html#outputs_of_eq"><span class="id" title="lemma">outputs_of_eq</span></a> <span class="id" title="var">p0</span> <span class="id" title="var">p'</span>), (<a class="idref" href="Must.Normalisation.html#outputs_of_eq"><span class="id" title="lemma">outputs_of_eq</span></a> <span class="id" title="var">q'</span> <span class="id" title="var">q0</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mdb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">hl1</span> &amp; <span class="id" title="var">hl2</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">hacnv</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">nt</span> <span class="id" title="var">q'</span> <span class="id" title="var">hacnv</span> <span class="id" title="var">w</span> <span class="id" title="var">st</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
